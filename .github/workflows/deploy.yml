name: ุชุญุฏูุซ ุงููููุน ูุชุฌููุฒู

# ูุชู ูุนูู ูุฐุง ุงูููุฏุ
on:
  # ุนูุฏูุง ุชุฑุณู ุชุญุฏูุซุงุช ูููุฑุน main
  push:
    branches: [ main ]
  # ูุชูุญ ูู ุชุดุบููู ูุฏูููุง ูู ุตูุญุฉ Actions
  workflow_dispatch:

# ุงูููุงู ุงูุชู ุณุชููุฐ
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    # ุตูุงุญูุฉ ุงููุชุงุจุฉ ุนูู ุงููุณุชูุฏุน
    permissions:
      contents: write
    
    steps:
      # 1. ุชุญููู ูุณุฎุฉ ูู ุงูููุฏ ุงูุฎุงุต ุจู
      - name: ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน
        uses: actions/checkout@v4

      # 2. ุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ (ุขููุ ุจุฏูู ูุดู ุงูุชููู)
      - name: ุชุฃููุฏ ูุตูู ุงูุชููู
        run: |
          echo "โ ุงูุชููู ููุฌูุฏ ูุขูู (ูุฎูู ุจูุงุณุทุฉ GitHub)"
          echo "๐ ุฌุงุฑู ุชุฌููุฒ ุงููููุงุช..."
          echo "๐ ุงุณู ุงูู secret ุงููุณุชุฎุฏู: TOKEN_GITHUB"
        env:
          # ููุง ูุชู ุงุณุชุฎุฏุงู ุงูุชููู ุจุทุฑููุฉ ุขููุฉ
          MY_SECRET: ${{ secrets.TOKEN_GITHUB }}

      # 3. ููุง ููููู ุฅุถุงูุฉ ุฃูุงูุฑู ุงูุชู ุชุญุชุงุฌ ุงูุชููู
      # ูุซุงู: ุฑูุน ููู ุชููุงุฆูุงู ุฃู ุชุญุฏูุซ ุดูุก
      - name: ุชูููุฐ ูููุฉ ุจุงุณุชุฎุฏุงู ุงูุชููู
        run: |
          echo "ุชู ุชูููุฐ ุงููููุฉ ุจูุฌุงุญ"
          echo "ุงูุชุงุฑูุฎ: $(date)"
          echo "ุงูุชููู ุดุบุงู โ"
